;====================================================================
; Processor: AT89C51
; Compiler:  ASEM-51 (Proteus)
;====================================================================

; What does this program do?
; Show numbers from 0 to 59

$NOMOD51
$INCLUDE (8051.MCU)

;====================================================================
; DEFINITIONS
;====================================================================
digit1 EQU 30H
digit2 EQU 40H
;====================================================================
; VARIABLES
;====================================================================

;====================================================================
; RESET and INTERRUPT VECTORS
;====================================================================

      ; Reset Vector
      org   0000h
      jmp   Start

;====================================================================
; CODE SEGMENT
;====================================================================

      org   0100h
Start:	
		  MOV digit1, #00H
		  MOV digit2, #00H
	  X1: MOV P0, digit1
		  MOV P3, digit2
	      CALL Delay_1sec
	      INC digit1
		  MOV A, digit1
	      CJNE A, #10, X1
	      MOV digit1, #00H
	  X2: INC digit2
		  MOV A, digit2
		  CJNE A, #6, X1
		  MOV digit2, #00H
		  JMP X1
	  

Delay_1sec:		MOV R2, #1
	  L2: 		MOV R1, #200
	  L1: 		MOV R0, #250
	  L0: 		DJNZ R0, L0
				DJNZ R1, L1
				DJNZ R2, L2
				RET
	  
Loop:	
      jmp Loop

;====================================================================
      END
